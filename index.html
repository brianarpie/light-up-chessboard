<!doctype html>
<html>
<head>
<title>La Luz de Ajedrez</title>
<meta description="la luz de ajedrez">
<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="app/assets/stylesheets/styles.css">
<link rel="stylesheet" href="app/assets/stylesheets/chessboard.css">
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<script src="bower_components/underscore/underscore-min.js"></script>
<script src="bower_components/angular/angular.min.js"></script>
<script src="bower_components/angular-route/angular-route.min.js"></script>
<script src="bower_components/ng-draggable/ngDraggable.js"></script>
<script src="app/app.js"></script>
<!-- i don't think i need to add jquery to dependencies -->
</head>
<body ng-app="LaLuzDeAjedrez">
  <div ng-controller="WindowController">
    <div ng-controller="ChessboardController">
      <div ng-controller="PiecesController">
        <div ng-controller="GameController">
          <div class="options">
            <button ng-click="init(); newGame()" class="new-game">New Game</button>
            <!-- <label>Detailed View</label> -->
<!--             <input type="checkbox"
                   ng-model="option"
                   ng-change="detailedView(option)"
                   checked> -->
          </div>
          <table>
            <tbody>
              <tr ng-repeat="row in board">

                <td ng-drop="true" 
                    ng-drop-success="onDropComplete($data, $event, $index, $parent.$index)" 
                    ng-style="{'background': getBackgroundColor($index, $parent.$index)}"
                    ng-repeat="square in row"
                    >
                    
                  <img id="{{$index.toString().concat($parent.$index)}}"
                       ng-drag="true" 
                       ng-drag-data="board[$index][$parent.$index].piece"
                       ng-drag-success="onDrag($data, $event)"
                       ng-src="{{getImage($index, $parent.$index, this)}}"
                       ng-click="clickPiece($index, $parent.$index)"
                       

                       >

                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
<script src="app/controllers/windowCtrl.js"></script>
<script src="app/controllers/chessboardCtrl.js"></script>
<script src="app/controllers/piecesCtrl.js"></script>
<script src="app/controllers/gameCtrl.js"></script>
</body>
</html>